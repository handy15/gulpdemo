!function(e){function t(t,n){function i(e,t,n){if(e.stopPropagation(),e.preventDefault(),!K&&!d(t)&&!t.hasClass("dwa")){K=!0;var i=t.find(".dw-ul");p(i),clearInterval(le),le=setInterval(function(){n(i)},pe.delay),n(i)}}function d(t){if(e.isArray(pe.readonly)){var n=e(".dwwl",R).index(t);return pe.readonly[n]}return pe.readonly}function u(t){var n='<div class="dw-bf">',i=ye[t],a=i.values?i:l(i),s=1,o=a.labels||[],d=a.values,r=a.keys||d;return e.each(d,function(e,t){s%20==0&&(n+='</div><div class="dw-bf">'),n+='<div role="option" aria-selected="false" class="dw-li dw-v" data-val="'+r[e]+'"'+(o[e]?' aria-label="'+o[e]+'"':"")+' style="height:'+U+"px;line-height:"+U+'px;"><div class="dw-i">'+t+"</div></div>",s++}),n+="</div>"}function p(t){ie=e(".dw-li",t).index(e(".dw-v",t).eq(0)),ae=e(".dw-li",t).index(e(".dw-v",t).eq(-1)),oe=e(".dw-ul",R).index(t)}function v(e){var t=pe.headerText;return t?"function"==typeof t?t.call(we,e):t.replace(/\{value\}/i,e):""}function b(){ce.temp=ge&&null!==ce.val&&ce.val!=he.val()||null===ce.values?pe.parseValue(he.val()||"",ce):ce.values.slice(0),I()}function O(t){var n,i,a=window.getComputedStyle?getComputedStyle(t[0]):t[0].style;return y?(e.each(["t","webkitT","MozT","OT","msT"],function(e,t){return void 0!==a[t+"ransform"]?(n=a[t+"ransform"],!1):void 0}),n=n.split(")")[0].split(", "),i=n[13]||n[5]):i=a.top.replace("px",""),Math.round(L-i/U)}function S(e,t){clearTimeout(fe[t]),delete fe[t],e.closest(".dwwl").removeClass("dwa")}function V(e,t,n,i,a){var s=(L-n)*U,o=e[0].style;s==be[t]&&fe[t]||(i&&s!=be[t]&&A("onAnimStart",[R,t,i]),be[t]=s,o[C+"Transition"]="all "+(i?i.toFixed(3):0)+"s ease-out",y?o[C+"Transform"]="translate3d(0,"+s+"px,0)":o.top=s+"px",fe[t]&&S(e,t),i&&a&&(e.closest(".dwwl").addClass("dwa"),fe[t]=setTimeout(function(){S(e,t)},1e3*i)),me[t]=n)}function P(t,n,i,a,s){A("validate",[R,n,t])!==!1&&(e(".dw-ul",R).each(function(i){var o=e(this),l=e('.dw-li[data-val="'+ce.temp[i]+'"]',o),d=e(".dw-li",o),r=d.index(l),c=d.length,u=i==n||void 0===n;if(!l.hasClass("dw-v")){for(var w=l,h=l,p=0,v=0;r-p>=0&&!w.hasClass("dw-v");)p++,w=d.eq(r-p);for(;c>r+v&&!h.hasClass("dw-v");)v++,h=d.eq(r+v);(p>v&&v&&2!==a||!p||0>r-p||1==a)&&h.hasClass("dw-v")?(l=h,r+=v):(l=w,r-=p)}(!l.hasClass("dw-sel")||u)&&(ce.temp[i]=l.attr("data-val"),e(".dw-sel",o).removeClass("dw-sel"),pe.multiple||(e(".dw-sel",o).removeAttr("aria-selected"),l.attr("aria-selected","true")),l.addClass("dw-sel"),V(o,i,r,u?t:.1,u?s:!1))}),j=pe.formatResult(ce.temp),"inline"==pe.display?I(i,0,!0):e(".dwv",R).html(v(j)),i&&A("onChange",[j]))}function A(t,i){var a;return i.push(ce),e.each([G.defaults,ve,n],function(e,n){n[t]&&(a=n[t].apply(we,i))}),a}function W(t,n,i,a,s){n=o(n,ie,ae);var l=e(".dw-li",t).eq(n),d=void 0===s?n:s,r=oe,c=a?n==d?.1:Math.abs((n-d)*pe.timeUnit):0;ce.temp[r]=l.attr("data-val"),V(t,r,n,c,s),setTimeout(function(){P(c,r,!0,i,void 0!==s)},10)}function q(e){var t=me[oe]+1;W(e,t>ae?ie:t,1,!0)}function z(e){var t=me[oe]-1;W(e,ie>t?ae:t,2,!0)}function I(e,t,n,i){Ce&&!n&&P(t),j=pe.formatResult(ce.temp),i||(ce.values=ce.temp.slice(0),ce.val=j),e&&ge&&he.val(j).trigger("change")}var L,U,j,R,Y,E,F,H,_,X,B,Q,G,J,K,N,Z,$,ee,te,ne,ie,ae,se,oe,le,de,re,ce=this,ue=e.mobiscroll,we=t,he=e(we),pe=T({},D),ve={},fe={},me={},be={},ye=[],ge=he.is("input"),Ce=!1,Te=function(t){!a(t)||r||d(this)||K||(t.preventDefault(),r=!0,N="clickpick"!=pe.mode,se=e(".dw-ul",this),p(se),Z=void 0!==fe[oe],ne=Z?O(se):me[oe],$=s(t,"Y"),ee=new Date,te=$,V(se,oe,ne,.001),N&&se.closest(".dwwl").addClass("dwa"),e(document).on(k,xe).on(M,ke))},xe=function(e){N&&(e.preventDefault(),e.stopPropagation(),te=s(e,"Y"),V(se,oe,o(ne+($-te)/U,ie-1,ae+1))),Z=!0},ke=function(t){var n,i,a,s=new Date-ee,l=o(ne+($-te)/U,ie-1,ae+1),d=se.offset().top;if(300>s?(n=(te-$)/s,i=n*n/pe.speedUnit,0>te-$&&(i=-i)):i=te-$,a=Math.round(ne-i/U),!i&&!Z){var c=Math.floor((te-d)/U),u=e(".dw-li",se).eq(c),w=N;A("onValueTap",[u])!==!1?a=c:w=!0,w&&(u.addClass("dw-hl"),setTimeout(function(){u.removeClass("dw-hl")},200))}N&&W(se,a,0,!0,Math.round(l)),r=!1,se=null,e(document).off(k,xe).off(M,ke)},Me=function(t){var n=e(this);e(document).on(M,De),n.hasClass("dwb-d")||n.addClass("dwb-a"),setTimeout(function(){n.blur()},10),n.hasClass("dwwb")&&a(t)&&i(t,n.closest(".dwwl"),n.hasClass("dwwbp")?q:z)},De=function(t){K&&(clearInterval(le),K=!1),e(document).off(M,De),e(".dwb-a",R).removeClass("dwb-a")},Oe=function(t){38==t.keyCode?i(t,e(this),z):40==t.keyCode&&i(t,e(this),q)},Se=function(e){K&&(clearInterval(le),K=!1)},Ve=function(t){if(!d(this)){t.preventDefault(),t=t.originalEvent||t;var n=t.wheelDelta?t.wheelDelta/120:t.detail?-t.detail/3:0,i=e(".dw-ul",this);p(i),W(i,Math.round(me[oe]-n),0>n?1:2)}};ce.position=function(t){if(!("inline"==pe.display||Y===e(window).width()&&F===e(window).height()&&t||A("onPosition",[R])===!1)){var n,i,a,s,l,d,r,c,u,w,h,p,v=0,f=0,m=e(window).scrollTop(),b=e(".dwwr",R),y=e(".dw",R),g={},C=void 0===pe.anchor?he:pe.anchor;Y=e(window).width(),F=e(window).height(),E=window.innerHeight,E=E||F,/modal|bubble/.test(pe.display)&&(e(".dwc",R).each(function(){n=e(this).outerWidth(!0),v+=n,f=n>f?n:f}),n=v>Y?f:v,b.width(n).css("white-space",v>Y?"":"nowrap")),H=y.outerWidth(),_=y.outerHeight(!0),X=E>=_&&Y>=H,"modal"==pe.display?(i=(Y-H)/2,a=m+(E-_)/2):"bubble"==pe.display?(p=!0,u=e(".dw-arrw-i",R),d=C.offset(),r=d.top,c=d.left,s=C.outerWidth(),l=C.outerHeight(),i=c-(y.outerWidth(!0)-s)/2,i=i>Y-H?Y-(H+20):i,i=i>=0?i:20,a=r-_,m>a||r>m+E?(y.removeClass("dw-bubble-top").addClass("dw-bubble-bottom"),a=r+l):y.removeClass("dw-bubble-bottom").addClass("dw-bubble-top"),w=u.outerWidth(),h=c+s/2-(i+(H-w)/2),e(".dw-arr",R).css({left:o(h,0,w)})):(g.width="100%","top"==pe.display?a=m:"bottom"==pe.display&&(a=m+E-_)),g.top=0>a?0:a,g.left=i,y.css(g),e(".dw-persp",R).height(0).height(a+_>e(document).height()?a+_:e(document).height()),p&&(a+_>m+E||r>m+E)&&e(window).scrollTop(a+_-E)}},ce.enable=function(){pe.disabled=!1,ge&&he.prop("disabled",!1)},ce.disable=function(){pe.disabled=!0,ge&&he.prop("disabled",!0)},ce.setValue=function(t,n,i,a){ce.temp=e.isArray(t)?t.slice(0):pe.parseValue.call(we,t+"",ce),I(n,i,!1,a)},ce.getValue=function(){return ce.values},ce.getValues=function(){var e,t=[];for(e in ce._selectedValues)t.push(ce._selectedValues[e]);return t},ce.changeWheel=function(t,n){if(R){var i=0,a=t.length;e.each(pe.wheels,function(s,o){return e.each(o,function(s,o){return e.inArray(i,t)>-1&&(ye[i]=o,e(".dw-ul",R).eq(i).html(u(i)),a--,!a)?(ce.position(),P(n,void 0,!0),!1):void i++}),a?void 0:!1})}},ce.isVisible=function(){return Ce},ce.tap=function(e,t){var n,i;pe.tap&&e.on("touchstart.dw",function(e){e.preventDefault(),n=s(e,"X"),i=s(e,"Y")}).on("touchend.dw",function(e){Math.abs(s(e,"X")-n)<20&&Math.abs(s(e,"Y")-i)<20&&t.call(this,e),c=!0,setTimeout(function(){c=!1},300)}),e.on("click.dw",function(e){c||t.call(this,e)})},ce.show=function(t){if(pe.disabled||Ce)return!1;"top"==pe.display&&(B="slidedown"),"bottom"==pe.display&&(B="slideup"),b(),A("onBeforeShow",[]);var n,i=0,a="";B&&!t&&(a="dw-"+B+" dw-in");var s='<div role="dialog" class="'+pe.theme+" dw-"+pe.display+(g?" dw"+g:"")+'">'+("inline"==pe.display?'<div class="dw dwbg dwi"><div class="dwwr">':'<div class="dw-persp"><div class="dwo"></div><div class="dw dwbg '+a+'"><div class="dw-arrw"><div class="dw-arrw-i"><div class="dw-arr"></div></div></div><div class="dwwr"><div aria-live="assertive" class="dwv'+(pe.headerText?"":" dw-hidden")+'"></div>')+'<div class="dwcc">';e.each(pe.wheels,function(t,a){s+='<div class="dwc'+("scroller"!=pe.mode?" dwpm":" dwsc")+(pe.showLabel?"":" dwhl")+'"><div class="dwwc dwrc"><table cellpadding="0" cellspacing="0"><tr>',e.each(a,function(e,t){ye[i]=t,n=void 0!==t.label?t.label:e,s+='<td><div class="dwwl dwrc dwwl'+i+'">'+("scroller"!=pe.mode?'<div class="dwb-e dwwb dwwbp" style="height:'+U+"px;line-height:"+U+'px;"><span>+</span></div><div class="dwb-e dwwb dwwbm" style="height:'+U+"px;line-height:"+U+'px;"><span>&ndash;</span></div>':"")+'<div class="dwl">'+n+'</div><div tabindex="0" aria-live="off" aria-label="'+n+'" role="listbox" class="dwww"><div class="dww" style="height:'+pe.rows*U+"px;min-width:"+pe.width+'px;"><div class="dw-ul">',s+=u(i),s+='</div><div class="dwwol"></div></div><div class="dwwo"></div></div><div class="dwwol"></div></div></td>',i++}),s+="</tr></table></div></div>"}),s+="</div>"+("inline"!=pe.display?'<div class="dwbc'+(pe.button3?" dwbc-p":"")+'"><span class="dwbw dwb-s"><span class="dwb dwb-e" role="button" tabindex="0">'+pe.setText+"</span></span>"+(pe.button3?'<span class="dwbw dwb-n"><span class="dwb dwb-e" role="button" tabindex="0">'+pe.button3Text+"</span></span>":"")+'<span class="dwbw dwb-c"><span class="dwb dwb-e" role="button" tabindex="0">'+pe.cancelText+"</span></span></div></div>":"")+"</div></div></div>",R=e(s),P(),A("onMarkupReady",[R]),"inline"!=pe.display?(R.appendTo("body"),B&&!t&&(R.addClass("dw-trans"),setTimeout(function(){R.removeClass("dw-trans").find(".dw").removeClass(a)},350))):he.is("div")?he.html(R):R.insertAfter(he),A("onMarkupInserted",[R]),Ce=!0,G.init(R,ce),"inline"!=pe.display&&(ce.tap(e(".dwb-s span",R),function(){ce.select()}),ce.tap(e(".dwb-c span",R),function(){ce.cancel()}),pe.button3&&ce.tap(e(".dwb-n span",R),pe.button3),e(window).on("keydown.dw",function(e){13==e.keyCode?ce.select():27==e.keyCode&&ce.cancel()}),pe.scrollLock&&R.on("touchmove touchstart",function(e){X&&e.preventDefault()}),e("input,select,button").each(function(){this.disabled||(e(this).attr("autocomplete")&&e(this).data("autocomplete",e(this).attr("autocomplete")),e(this).addClass("dwtd").prop("disabled",!0).attr("autocomplete","off"))}),ce.position(),e(window).on("orientationchange.dw resize.dw scroll.dw",function(e){clearTimeout(Q),Q=setTimeout(function(){var t="scroll"==e.type;(t&&X||!t)&&ce.position(!t)},100)}),ce.alert(pe.ariaDesc)),e(".dwwl",R).on("DOMMouseScroll mousewheel",Ve).on(x,Te).on("keydown",Oe).on("keyup",Se),R.on(x,".dwb-e",Me).on("keydown",".dwb-e",function(t){32==t.keyCode&&(t.preventDefault(),t.stopPropagation(),e(this).click())}),A("onShow",[R,j])},ce.hide=function(t,n){return Ce&&A("onClose",[j,n])!==!1?(e(".dwtd").each(function(){e(this).prop("disabled",!1).removeClass("dwtd"),e(this).data("autocomplete")?e(this).attr("autocomplete",e(this).data("autocomplete")):e(this).removeAttr("autocomplete")}),R&&("inline"!=pe.display&&B&&!t?(R.addClass("dw-trans").find(".dw").addClass("dw-"+B+" dw-out"),setTimeout(function(){R.remove(),R=null},350)):(R.remove(),R=null),e(window).off(".dw")),be={},Ce=!1,re=!0,void he.focus()):!1},ce.select=function(){ce.hide(!1,"set")!==!1&&(I(!0,0,!0),A("onSelect",[ce.val]))},ce.alert=function(e){h.text(e),clearTimeout(w),w=setTimeout(function(){h.text("")},5e3)},ce.cancel=function(){ce.hide(!1,"cancel")!==!1&&A("onCancel",[ce.val])},ce.init=function(e){G=T({defaults:{},init:m},ue.themes[e.theme||pe.theme]),J=ue.i18n[e.lang||pe.lang],T(n,e),T(pe,G.defaults,J,n),ce.settings=pe,he.off(".dw");var t=ue.presets[pe.preset];t&&(ve=t.call(we,ce),T(pe,ve,n)),L=Math.floor(pe.rows/2),U=pe.height,B=pe.animate,Ce&&ce.hide(),"inline"==pe.display?ce.show():(b(),ge&&(void 0===de&&(de=we.readOnly),we.readOnly=!0,pe.showOnFocus&&he.on("focus.dw",function(){re||ce.show(),re=!1})),pe.showOnTap&&ce.tap(he,function(){ce.show()}))},ce.trigger=function(e,t){return A(e,t)},ce.option=function(e,t){var n={};"object"==typeof e?n=e:n[e]=t,ce.init(n)},ce.destroy=function(){ce.hide(),he.off(".dw"),delete f[we.id],ge&&(we.readOnly=de)},ce.getInst=function(){return ce},ce.values=null,ce.val=null,ce.temp=null,ce._selectedValues={},ce.init(n)}function n(e){var t;for(t in e)if(void 0!==b[e[t]])return!0;return!1}function i(){var e,t=["Webkit","Moz","O","ms"];for(e in t)if(n([t[e]+"Transform"]))return"-"+t[e].toLowerCase();return""}function a(e){if("touchstart"===e.type)u=!0;else if(u)return u=!1,!1;return!0}function s(e,t){var n=e.originalEvent,i=e.changedTouches;return i||n&&n.changedTouches?n?n.changedTouches[0]["page"+t]:i[0]["page"+t]:e["page"+t]}function o(e,t,n){return Math.max(t,Math.min(e,n))}function l(t){var n={values:[],keys:[]};return e.each(t,function(e,t){n.keys.push(e),n.values.push(t)}),n}function d(e,n,i){var a=e;return"object"==typeof n?e.each(function(){this.id||(v+=1,this.id="mobiscroll"+v),f[this.id]=new t(this,n)}):("string"==typeof n&&e.each(function(){var e,t=f[this.id];return t&&t[n]&&(e=t[n].apply(this,Array.prototype.slice.call(i,1)),void 0!==e)?(a=e,!1):void 0}),a)}var r,c,u,w,h,p=new Date,v=p.getTime(),f={},m=function(){},b=document.createElement("modernizr").style,y=n(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]),g=i(),C=g.replace(/^\-/,"").replace("moz","Moz"),T=e.extend,x="touchstart mousedown",k="touchmove mousemove",M="touchend mouseup",D={width:70,height:40,rows:3,delay:300,disabled:!1,readonly:!1,showOnFocus:!0,showOnTap:!0,showLabel:!0,wheels:[],theme:"",headerText:"{value}",display:"modal",mode:"scroller",preset:"",lang:"en-US",setText:"Set",cancelText:"Cancel",ariaDesc:"Select a value",scrollLock:!0,tap:!0,speedUnit:.0012,timeUnit:.1,formatResult:function(e){return e.join(" ")},parseValue:function(t,n){var i,a=t.split(" "),s=[],o=0;return e.each(n.settings.wheels,function(t,n){e.each(n,function(t,n){n=n.values?n:l(n),i=n.keys||n.values,-1!==e.inArray(a[o],i)?s.push(a[o]):s.push(i[0]),o++})}),s}};e(function(){h=e('<div class="dw-hidden" role="alert"></div>').appendTo("body")}),e(document).on("mouseover mouseup mousedown click",function(e){return c?(e.stopPropagation(),e.preventDefault(),!1):void 0}),e.fn.mobiscroll=function(t){return T(this,e.mobiscroll.shorts),d(this,t,arguments)},e.mobiscroll=e.mobiscroll||{setDefaults:function(e){T(D,e)},presetShort:function(e){this.shorts[e]=function(t){return d(this,T(t,{preset:e}),arguments)}},has3d:y,shorts:{},presets:{},themes:{},i18n:{}},e.scroller=e.scroller||e.mobiscroll,e.fn.scroller=e.fn.scroller||e.fn.mobiscroll}(jQuery);