<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"><title>Mobiscroll-2.6.2</title><link rel="stylesheet" type="text/css" href="/gulpdemo/plugin/bootstrap-3.3.5/css/bootstrap.css?v=bba40d0d97"><link rel="stylesheet" type="text/css" href="/gulpdemo/plugin/jquery-jbox/2.3/Skins/Blue/jbox.css"><link rel="stylesheet" type="text/css" href="/gulpdemo/css/common.css?v=834de0cd75"><link href="/gulpdemo/plugin/mobiscroll-2.6.2/dev/css/mobiscroll.core-2.6.2.css" rel="stylesheet" type="text/css"><link rel="stylesheet" href="/gulpdemo/css/mobile.css?v=d00d5f70b2"></head><body><header class="header"><nav><ul class="navigation"><li><a href="/gulpdemo/index.html" target="_self" title="返回首页" class="home"></a></li><li><a href="/gulpdemo/html/mobile/taobao_adapter.html">移动端</a></li><li><a href="/gulpdemo/html/webDesign/vertical_align.html" target="_self">网页布局</a></li><li><a href="/gulpdemo/html/javascript/chinamap.html" target="_self">javascript & JQuery</a></li><li><a href="/gulpdemo/html/css3/transform.html" target="_self">CSS3</a></li><li><a href="/gulpdemo/html/h5/img2base64.html" target="_self">H5</a></li><li><a href="/gulpdemo/html/plugin/plugin_instruction.html" target="_self">插件说明</a></li><li><a href="/gulpdemo/html/echarts/freshness.html" target="_self">echarts</a></li></ul></nav></header><div class="container01"><div class="c-left"><input type="hidden" value="1" id="menuId"><div class="side-menu"><ul class="side-menu-list"><li><a href="/gulpdemo/html/mobile/taobao_adapter.html"><i class="icon-blank"></i>淘宝手机适配解决方案</a></li><li><a href="javascript:;"><i class="glyphicon glyphicon-menu-right"></i>基本概念</a><ul class="side-menu-child hide"><li><a href="/gulpdemo/html/mobile/concept_touch.html">移动端触摸滑动</a></li><li><a href="/gulpdemo/html/mobile/concept_viewport.html">viewport & device-width</a></li></ul></li><li><a href="/gulpdemo/html/mobile/css_sprite.html"><i class="icon-blank"></i>图片精灵</a></li><li><a href="/gulpdemo/html/mobile/hack.html"><i class="icon-blank"></i>常见hack</a></li><li><a href="javascript:;"><i class="glyphicon glyphicon-menu-right"></i>fixed</a><ul class="side-menu-child hide"><li><a href="/gulpdemo/html/mobile/fixed.html">总览</a></li><li><a href="/gulpdemo/html/mobile/fixed_sticky.html" target="_blank">sticky</a></li><li><a href="/gulpdemo/html/mobile/fixed_absolute.html" target="_blank">fixed & absolute</a></li><li><a href="/gulpdemo/html/mobile/fixed_ios_hack.html" target="_blank">fixed在ios中的hack粗略解决方案</a></li><li><a href="/gulpdemo/html/mobile/fixed_flex.html" target="_blank">flex布局</a></li></ul></li><li><a href="javascript:;"><i class="glyphicon glyphicon-menu-right"></i>特效插件</a><ul class="side-menu-child hide"><li><a href="/gulpdemo/html/mobile/select_to_segment.html">select转分段按钮</a></li><li><a href="/gulpdemo/html/mobile/repeat_play_img.html" target="_blank">滑动图片</a></li><li><a href="/gulpdemo/html/mobile/repeat_play_img01.html" target="_blank">滑动图片01</a></li><li><a href="/gulpdemo/html/mobile/delete_demo.html" target="_blank">滑动删除</a></li></ul></li><li><a href="javascript:;"><i class="glyphicon glyphicon-menu-right"></i>基于mobiscroll的滚动</a><ul class="side-menu-child hide"><li><a href="/gulpdemo/html/mobile/mobiscroll_demo.html">综合演示</a></li><li><a href="/gulpdemo/html/mobile/mobiscroll_mydemo.html">自定义</a></li></ul></li></ul></div></div><div class="c-right"><div class="mobiscroll-header"><h1><a href="javascript:location.reload(true);">Mobiscroll 2.6.2</a></h1></div><ul class="content peak" style="min-height:500px"><li><label>峰<span>（时间段）</span></label></li><li class="addTxt"><em for="peak">＋添加</em></li></ul></div></div><footer class="footer"><p>Author: wangyaru</p><p>Created time: 2016/02/15</p><p>&copy;forever</p></footer><script type="text/javascript" src="/gulpdemo/js/jquery-1.12.1.js?v=da6deec5d1"></script><script type="text/javascript" src="/gulpdemo/js/jquery-migrate-1.1.1.js?v=d62a5c2a27"></script><script type="text/javascript" src="/gulpdemo/plugin/bootstrap-3.3.5/js/bootstrap.js?v=5a9f44d675"></script><script type="text/javascript" src="/gulpdemo/plugin/jquery-jbox/2.3/jquery.jBox-2.3.src.js?v=568416d5b1"></script><script type="text/javascript" src="/gulpdemo/js/main.js?v=6f399efa9e"></script><script src="/gulpdemo/plugin/mobiscroll-2.6.2/dev/js/mobiscroll.core-2.6.2.js" type="text/javascript"></script><script src="/gulpdemo/plugin/mobiscroll-2.6.2/dev/js/mobiscroll.core-2.6.2-zh.js" type="text/javascript"></script><script>$(function(){myobj.init()});var myobj={init:function(){var e=this,r=e.renderTime(),t={lang:"zh",theme:"time-interval",display:"bottom",headerText:"",setText:"完成",rows:5,invalid:[r.keys[1],r.keys[0]],validate:function(e,r,t){},onBeforeShow:function(e){var a=$(this),i=a.scroller("getInst");i.val=r.keys[0]+" "+r.keys[1],i.temp=[r.keys[0],r.keys[1]],t.invalid=[r.keys[1],r.keys[0]]},onShow:function(e,r){var a=$(this),i=a.scroller("getInst");$(e).find("table td").eq(0).after('<td class="betweenText"><div>至</div></td>'),$(e).off("touchend",".dwo").on("touchend",".dwo",function(){i.cancel()}),t.invalid.length&&($('.dwwl0 .dw-li[data-val="'+t.invalid[0]+'"]').removeClass("dw-v"),$('.dwwl1 .dw-li[data-val="'+t.invalid[1]+'"]').removeClass("dw-v"))},onChange:function(e){var r=($(this),e.split(" "));t.invalid=[r[1],r[0]],$(".dwwl .dw-li").addClass("dw-v"),t.invalid.length&&($('.dwwl0 .dw-li[data-val="'+t.invalid[0]+'"]').removeClass("dw-v"),$('.dwwl1 .dw-li[data-val="'+t.invalid[1]+'"]').removeClass("dw-v"))},onSelect:function(r){var t=$(this),a=r.split(" "),i=parseInt(a[0]),n=parseInt(a[1]),l=e.timeInterval[t.attr("for")];if(i<n)for(var s=i+.5;s<n;s++)l.push(s);else{for(var s=i+.5;s<24;s++)l.push(s);for(var s=.5;s<n;s++)l.push(s)}t.parent().before('<li class="time">'+e.renderCertainTime(i)+" 至 "+e.renderCertainTime(n)+'<span class="btn-del01" data-start="'+i+'"  data-end="'+n+'">&times;</span></li>'),e.timeInterval[t.attr("for")+"0"].push({startTime:e.renderCertainTime(i),endTime:e.renderCertainTime(n)}),t.parent().siblings("li.time").length>=3&&t.scroller("destroy").off("click").on("click",function(){t.attr("hasDestroy","1"),alert("至多添加3个时间段")})},onClose:function(r,t){if("set"==t){var a=$(this),i=r.split(" "),n=parseInt(i[0]),l=parseInt(i[1]);if(n==l)return alert("开始时间和结束时间不能为同一时间"),!1;var s=e.timeInterval[a.attr("for")],d=!0;if(s.length)if(n<l){for(var o=n+.5;o<l&&d;o++)if("-1"!=$.inArray(o,s)){d=!1;break}}else{for(var o=n+.5;o<24&&d;o++)if("-1"!=$.inArray(o,s)){d=!1;break}for(var o=.5;o<l&&d;o++)if(d&&"-1"!=$.inArray(o,s)){d=!1;break}}return d||alert("时间段不允许有交叉"),d}},wheels:[[{label:"开始时间",keys:r.keys,values:r.values},{label:"结束时间",keys:r.keys,values:r.values}]]};$(".addTxt em").scroller("destroy").scroller(t),$(".peak").on("click",".time .btn-del01",function(){var r=$(this),a=parseInt(r.attr("data-start")),i=parseInt(r.attr("data-end")),n=r.parent(),l=n.siblings(".addTxt").find("[for]").attr("for"),s=e.timeInterval[l],d=$.inArray(a+.5,s);if("-1"!=d){var o=i-a;o<0&&(o=24-a+i),s.splice(d,o)}e.timeInterval[l+"0"].splice(n.parent().find(".time-interval").index(n),1);var v=n.siblings(".addTxt").find("[for]");"1"==v.attr("hasDestroy")&&v.off("click").scroller(t),n.remove()})},renderTime:function(){for(var e=0,r=23,t=[],a=[],i=e;i<=r;i++){var n=i+":00";i<10&&(n="0"+n),t.push(i),a.push(n)}return{keys:t,values:a}},timeInterval:{peak:[],cereal:[],flat:[],tip:[],peak0:[],cereal0:[],flat0:[],tip0:[],periodConvertToPoint:function(e){var r=[];if(e&&""!=e)for(var t=0,a=e.length;t<a;t++){var i=e[t],n=parseInt(i.startTime.match(/\d{2}(?=:00)/g)[0].replace(/^0/g,"")),l=parseInt(i.endTime.match(/\d{2}(?=:00)/g)[0].replace(/^0/g,""));if(n<l)for(var s=n+.5;s<l;s++)r.push(s);else{for(var s=n+.5;s<24;s++)r.push(s);for(var s=.5;s<l;s++)r.push(s)}}return r}},renderCertainTime:function(e){var r=parseInt(e),t=r+":00";return r<10&&(t="0"+t),t}}</script></body></html>