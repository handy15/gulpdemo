<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>移动端触摸滑动</title><meta name="viewport" content="target-densitydpi=320,width=640,user-scalable=no"><style>*{margin:0;padding:0}li{list-style:none}.m-slider{width:600px;margin:50px 20px;overflow:hidden}.m-slider .cnt{position:relative;left:0;width:3000px;height:450px}.m-slider .cnt li{float:left;width:600px}.m-slider .cnt img{display:block;width:100%;height:450px}.m-slider .cnt p{margin:20px 0}.m-slider .icons{text-align:center;color:#000}.m-slider .icons span{margin:0 5px}.m-slider .icons .curr{color:red}.f-anim{-webkit-transition:left .2s linear}</style></head><body><div class="m-slider"><ul class="cnt" id="slider"><li><img src="/gulpdemo/img/pic/1.jpg?v=1f2b7b30a1"><p>20140813镜面的世界，终究只是倒影。看得到你的身影，却触摸不到你的未来</p></li><li><img src="/gulpdemo/img/pic/2.jpg?v=c45e8bfba9"><p>20140812锡林浩特前往东乌旗S101必经之处，一条极美的铁路。铁路下面是个小型的盐沼，淡淡的有了一丝天空之境的感觉。可惜在此玩了一个小时也没有看见一列火车经过，只好继续赶往东乌旗。</p></li><li><img src="/gulpdemo/img/pic/3.jpg?v=9db4ba3bdc"><p>20140811水的颜色为什么那么蓝，我也纳闷，反正自然饱和度和对比度拉完就是这个颜色的</p></li><li><img src="/gulpdemo/img/pic/4.jpg?v=8db647a093"><p>海洋星球3重庆天气热得我想卧轨自杀</p></li><li><img src="/gulpdemo/img/pic/5.jpg?v=25e56d41fa"><p>以上这些作品分别来自两位设计师作为观者，您能否通过设计风格进行区分</p></li></ul><div class="icons" id="icons"><span class="curr">1</span> <span>2</span> <span>3</span> <span>4</span> <span>5</span></div></div><script>var slider={touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,slider:document.getElementById("slider"),events:{index:0,slider:this.slider,icons:document.getElementById("icons"),icon:this.icons.getElementsByTagName("span"),handleEvent:function(e){var t=this;"touchstart"==e.type?t.start(e):"touchmove"==e.type?t.move(e):"touchend"==e.type&&t.end(e)},start:function(e){var t=e.targetTouches[0];startPos={x:t.pageX,y:t.pageY,time:+new Date},isScrolling=0,this.slider||(this.slider=slider.slider),this.slider.addEventListener("touchmove",this,!1),this.slider.addEventListener("touchend",this,!1)},move:function(e){if(!(e.targetTouches.length>1||e.scale&&1!==e.scale)){var t=e.targetTouches[0];endPos={x:t.pageX-startPos.x,y:t.pageY-startPos.y},isScrolling=Math.abs(endPos.x)<Math.abs(endPos.y)?1:0,0===isScrolling&&(e.preventDefault(),this.slider.className="cnt",this.slider.style.left=600*-this.index+endPos.x+"px")}},end:function(e){var t=+new Date-startPos.time;0===isScrolling&&(this.icon[this.index].className="",Number(t)>10&&(endPos.x>10?0!==this.index&&(this.index-=1):endPos.x<-10&&this.index!==this.icon.length-1&&(this.index+=1)),this.icon[this.index].className="curr",this.slider.className="cnt f-anim",this.slider.style.left=600*-this.index+"px"),this.slider.removeEventListener("touchmove",this,!1),this.slider.removeEventListener("touchend",this,!1)}},init:function(){var e=this;e.touch&&e.slider.addEventListener("touchstart",e.events,!1)}};slider.init()</script></body></html>